<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="manageSQL">
	
	<insert id = "productInsert" parameterType = "productDTO">
		insert into PRODUCT values(
			#{p_cateNum},
			#{p_midCate},
			#{p_smallCate},
			PRODUCT_SEQ.nextval,
			<if test = "p_group == 0">
				PRODUCT_SEQ.currval,
			</if>
			<if test = "p_group != 0">
				#{p_group},
			</if>
			#{p_name},
			#{p_option1},
			#{p_option2},
			#{p_amount},
			#{p_cost},
			#{p_status},
			#{p_maker},
			#{p_origin},
			#{p_image},
			sysdate
		)
	</insert>
	
	<insert id = "product_boardInsert" parameterType = "product_boardDTO">
		insert into PRODUCT_BOARD values(
			#{p_cateNum},
			#{p_name},
			#{p_code},
			#{p_contents},
			#{p_COST},
			#{p_image},
			sysdate
		)
	</insert>
	
	<select id = "getProduct" parameterType = "String" resultType = "int">
		select p_group from PRODUCT where p_name = #{p_name}
	</select>
	
	<select id = "getSeq" resultType = "int">
		select LAST_NUMBER-1 FROM user_sequences where sequence_name = 'PRODUCT_SEQ'
	</select>
	
</mapper>  














